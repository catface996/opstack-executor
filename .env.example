# AWS Bedrock 认证配置示例
# 复制此文件为 .env 并填入实际值

# ============================================================================
# 认证方式 1: API Key 认证（本地开发和调试）
# ============================================================================
# 适用场景：本地开发、测试、调试
# 取消下面的注释并填入您的 API Key

# AWS_BEDROCK_API_KEY=your-api-key-here

# ============================================================================
# 认证方式 2: IAM Role 认证（AWS 部署）
# ============================================================================
# 适用场景：AWS Lambda、EC2、ECS 等 AWS 环境部署
# 取消下面的注释以启用 IAM Role 认证

# USE_IAM_ROLE=true

# ============================================================================
# 通用配置
# ============================================================================

# AWS Region（必需，特别是在使用 IAM Role 认证时）
AWS_REGION=us-east-1

# AWS Bedrock 模型 ID
AWS_BEDROCK_MODEL_ID=us.anthropic.claude-sonnet-4-20250514-v1:0

# ============================================================================
# HTTP Server Configuration (for EC2 deployment)
# ============================================================================

# Server port (default: 8080)
# PORT=8080

# Server host (default: 0.0.0.0, listens on all interfaces)
# HOST=0.0.0.0

# Debug mode (default: false)
# DEBUG=false

# Optional: AWS Credentials for local testing with IAM-style authentication
# Only needed if testing IAM authentication locally without actual IAM role
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_SESSION_TOKEN=your-session-token

# ============================================================================
# 认证模式说明
# ============================================================================
# 
# 系统会根据配置自动选择认证方式：
# 
# 1. 如果设置了 AWS_BEDROCK_API_KEY，使用 API Key 认证
#    - 适合本地开发和调试
#    - 需要手动管理 API Key
# 
# 2. 如果设置了 USE_IAM_ROLE=true，使用 IAM Role 认证
#    - 适合 AWS 环境部署
#    - 更加安全，无需管理 API Key
#    - 需要为 Lambda/EC2 配置适当的 IAM 角色权限
# 
# 3. 如果在 AWS Lambda 环境中运行且未配置 API Key，系统自动切换到 IAM Role 认证
# 
# ============================================================================
# IAM Role 权限要求
# ============================================================================
# 
# 如果使用 IAM Role 认证，确保您的 Lambda 函数或 EC2 实例的 IAM 角色具有以下权限：
# 
# {
#   "Version": "2012-10-17",
#   "Statement": [
#     {
#       "Effect": "Allow",
#       "Action": [
#         "bedrock:InvokeModel",
#         "bedrock:InvokeModelWithResponseStream"
#       ],
#       "Resource": "*"
#     }
#   ]
# }
# 
# ============================================================================
